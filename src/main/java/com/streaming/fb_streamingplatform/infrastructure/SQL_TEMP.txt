CREATE DATABASE streaming_tjeneste_db;

CREATE TABLE users (
id INT AUTO_INCREMENT PRIMARY KEY,
email VARCHAR(100) NOT NULL UNIQUE,
name VARCHAR(100) NOT NULL
);

CREATE TABLE movies(
id INT AUTO_INCREMENT PRIMARY KEY,
title VARCHAR(150) NOT NULL,
rating DECIMAL(3,1) NOT NULL
);

CREATE TABLE favorites (
    user_id INT NOT NULL,
    movie_id INT NOT NULL,

    PRIMARY KEY (user_id, movie_id),

    FOREIGN KEY (user_id) REFERENCES users(id)
        ON DELETE CASCADE,

    FOREIGN KEY (movie_id) REFERENCES movies(id)
        ON DELETE CASCADE
);
